'use strict'

const token = "eyJraWQiOiJrZmxHQzRWVFdqK0NYNmUrVDg1ZytxV2xCcithVWJMUmN2TVd2VEJ0TGtNPSIsImFsZyI6IlJTMjU2In0.eyJhdF9oYXNoIjoiWFpuMGZua2RXdE1kTi1UZlFVYVFvZyIsInN1YiI6ImRlYmU2NDA1LTc3YmEtNDJhOC05MTBjLTZjNGM5ZTY3NjQxZiIsImlzcyI6Imh0dHBzOlwvXC9jb2duaXRvLWlkcC5hcC1ub3J0aGVhc3QtMi5hbWF6b25hd3MuY29tXC9hcC1ub3J0aGVhc3QtMl9LMVhmMG9VN1YiLCJjb2duaXRvOnVzZXJuYW1lIjoic2FuZyIsImF1ZCI6IjJvc2Q4Y2RobXJoYjQyMTBicHBldHRuc3B0IiwiZXZlbnRfaWQiOiI0NGExMDFhZC0xZmI5LTRjOWEtOWY0My0yMzAwNDFkM2VjOGUiLCJ0b2tlbl91c2UiOiJpZCIsImF1dGhfdGltZSI6MTY3OTI4NzIxMywiZXhwIjoxNjc5MzczNjEzLCJpYXQiOjE2NzkyODcyMTMsImp0aSI6IjQ2ZmJlNmFkLTE2NTUtNDc2Mi1hZGQ4LTVkNTk3MGU3Y2YxMSIsImVtYWlsIjoic2FuZ0BleHAuY29tIn0.ONHYvsAHFoJMU6lhmbX7edkslE-M6YT2IF0HDFfoVcVk0pHXhCFXWKZ59ZaU8EX3GrlqxuzW_RMPcmVHlNMhq1Q83ntenVLSTWmwHLEah6eSwN36OFCeoejuKbEgT8Cp6uad9b_46ns1FLmFqfFgQiASJvGFs6GJK2zCfbvfkNaQDjOfQ1-ynWoRoHBShAuDfPR1a664vT3dgFgg7yu-wajk2TZOeKTLKQ6K-CaIGD0V7bG_ugh8sVLjK-u5g_YW6TstcHVu1NM-dnc5Pf8hsFnNPDOzP5UJfbF_xoulK4HSdgKna0HPsquVYWnp6655fQmX_zZ81PZwNmgUGzYhmw&access_token=eyJraWQiOiJPSDRKVUJBN3NOZ1wvR21yVlBqQjRtQ0FoMjI2MkFIVVcwclA3a0UzSlpwOD0iLCJhbGciOiJSUzI1NiJ9.eyJzdWIiOiJkZWJlNjQwNS03N2JhLTQyYTgtOTEwYy02YzRjOWU2NzY0MWYiLCJpc3MiOiJodHRwczpcL1wvY29nbml0by1pZHAuYXAtbm9ydGhlYXN0LTIuYW1hem9uYXdzLmNvbVwvYXAtbm9ydGhlYXN0LTJfSzFYZjBvVTdWIiwidmVyc2lvbiI6MiwiY2xpZW50X2lkIjoiMm9zZDhjZGhtcmhiNDIxMGJwcGV0dG5zcHQiLCJldmVudF9pZCI6IjQ0YTEwMWFkLTFmYjktNGM5YS05ZjQzLTIzMDA0MWQzZWM4ZSIsInRva2VuX3VzZSI6ImFjY2VzcyIsInNjb3BlIjoib3BlbmlkIGVtYWlsIiwiYXV0aF90aW1lIjoxNjc5Mjg3MjEzLCJleHAiOjE2NzkzNzM2MTMsImlhdCI6MTY3OTI4NzIxMywianRpIjoiMGQ4N2IwMzAtNTdlYS00OTQ3LTgyZjUtODgzYTA2MmNiNDU2IiwidXNlcm5hbWUiOiJzYW5nIn0.lq0XuSMuSjAuN2_WmDDh1IPOKEKQGjRDJz8t61FUIvxtG_bN0a2t9Y-yZ8fstM9qkhqj8AtGIoGeIvfu3PTUJpXi6ahISNZIVF5bAssdv84F0P7z7Hp98REtpHWwPXVeqlBywTQBDV0e_kqCQ5QtE4SYKKeS_ILG0_eZXlj0koSDC763w-F8Xs9FcbjXypYenZWm9PcphDB7w_5b-wdze2ZVPDnndpBWp9s7-CtnFKgvpFO5cW0maWvyHcC58wbXKtpR156HZFITgAcWg6PqoAIuS-HCytQ6cd6Hu66_wQ6aZ9Tp-mg-Z5Mo5rVk0CdJdrgDeTWO3fjPC3YDbOn9zw&expires_in=86400&token_type=Bearer"

module.exports = async function (fastify, opts) {
  fastify.get('/', async function (request, reply) {
    const user_auth = await fastify.userAuth(token);
    return '{ root: true } user auth : ' + user_auth
  })
}
